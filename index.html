<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>물리치료 국가고시 의료법규 퀴즈</title>
  <style>
    :root {
      --bg1: #0f172a;
      --bg2: #1e293b;
      --card-bg: #0b1120;
      --card-inner: #020617;
      --accent: #38bdf8;
      --accent-soft: #0ea5e94d;
      --border-soft: #1f2937;
      --danger: #f97373;
      --success: #4ade80;
      --text-main: #e5e7eb;
      --text-sub: #9ca3af;
      --chip-med: #a855f7;
      --chip-article: #f97316;
      --chip-disable: #22c55e;
      --chip-old: #facc15;
      --chip-ins: #2dd4bf;
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      max-width: 980px;
      margin: 24px auto;
      padding: 0 16px 32px;
      line-height: 1.6;
      background: radial-gradient(circle at top, #1d4ed8, #020617 55%);
      color: var(--text-main);
    }

    h1 {
      text-align: center;
      margin-bottom: 4px;
      font-size: 26px;
      letter-spacing: -0.03em;
      background: linear-gradient(90deg, #38bdf8, #a855f7);
      -webkit-background-clip: text;
      color: transparent;
    }

    .subtitle {
      text-align: center;
      font-size: 13px;
      color: var(--text-sub);
      margin-bottom: 16px;
    }

    .shell {
      background: radial-gradient(circle at top left, rgba(56,189,248,0.15), rgba(15,23,42,0.95));
      border-radius: 20px;
      padding: 18px;
      box-shadow: 0 24px 60px rgba(15,23,42,0.8);
      border: 1px solid rgba(148,163,184,0.4);
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      margin-bottom: 12px;
    }

    .control-group {
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 12px;
      color: var(--text-sub);
    }

    select {
      padding: 6px 10px;
      font-size: 13px;
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      background: #020617;
      color: var(--text-main);
      outline: none;
    }

    select:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(56,189,248,0.4);
    }

    button {
      padding: 7px 14px;
      font-size: 13px;
      border-radius: 999px;
      border: none;
      background: var(--accent);
      color: #0b1120;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      transition: background 0.15s ease, transform 0.05s ease, box-shadow 0.1s ease;
      box-shadow: 0 10px 24px rgba(8,47,73,0.8);
      white-space: nowrap;
      font-weight: 600;
    }

    button:disabled {
      background: #1f2937;
      color: #6b7280;
      cursor: default;
      box-shadow: none;
    }

    button:hover:not(:disabled) {
      background: #0ea5e9;
      transform: translateY(-1px);
      box-shadow: 0 14px 30px rgba(8,47,73,0.9);
    }

    button:active:not(:disabled) {
      transform: translateY(0px);
      box-shadow: 0 8px 18px rgba(8,47,73,0.7);
    }

    .btn-secondary {
      background: #111827;
      color: var(--text-main);
      box-shadow: none;
      border: 1px solid #1f2937;
    }
    .btn-secondary:hover:not(:disabled) {
      background: #020617;
      box-shadow: none;
    }

    #quizArea {
      margin-top: 10px;
      border-radius: 18px;
      background: radial-gradient(circle at top left, #0f172a, #020617);
      border: 1px solid #1f2937;
      padding: 16px;
    }

    #topInfo {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      margin-bottom: 10px;
      font-size: 12px;
      color: var(--text-sub);
    }

    .chips {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
      font-size: 11px;
    }

    .chip {
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      background: #020617;
    }

    .chip-med { border-color: var(--chip-med); color: var(--chip-med); }
    .chip-article { border-color: var(--chip-article); color: var(--chip-article); }
    .chip-disable { border-color: var(--chip-disable); color: var(--chip-disable); }
    .chip-old { border-color: var(--chip-old); color: var(--chip-old); }
    .chip-ins { border-color: var(--chip-ins); color: var(--chip-ins); }

    .progress-wrap {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .progress-bar-bg {
      width: 100%;
      height: 6px;
      border-radius: 999px;
      background: #020617;
      overflow: hidden;
      border: 1px solid #1f2937;
    }

    .progress-bar-fill {
      height: 100%;
      width: 0%;
      border-radius: 999px;
      background: linear-gradient(90deg, #22c55e, #38bdf8);
      transition: width 0.2s ease;
    }

    #questionHeader {
      font-size: 12px;
      color: var(--accent);
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      margin-bottom: 4px;
    }

    #questionText {
      font-weight: 600;
      margin-bottom: 14px;
      font-size: 15px;
    }

    #optionsForm {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .option-card {
      border-radius: 12px;
      border: 1px solid #1f2937;
      padding: 8px 10px;
      display: flex;
      align-items: flex-start;
      gap: 8px;
      background: #020617;
      transition: border-color 0.12s ease, background 0.12s ease, box-shadow 0.12s ease, transform 0.05s ease;
      cursor: pointer;
    }

    .option-card:hover {
      border-color: var(--accent);
      background: #020617;
      box-shadow: 0 6px 16px rgba(15,23,42,0.9);
      transform: translateY(-1px);
    }

    .option-card input {
      margin-top: 3px;
      transform: scale(1.1);
      cursor: pointer;
    }

    .option-label-text {
      font-size: 14px;
    }

    #actionsRow {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
      margin-top: 14px;
    }

    #feedback {
      margin-top: 10px;
      font-weight: 700;
      font-size: 14px;
    }

    #explanation {
      margin-top: 6px;
      font-size: 13px;
      color: var(--text-sub);
      background: #020617;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px dashed #374151;
    }

    #status {
      margin-top: 10px;
      font-size: 12px;
      color: var(--text-sub);
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 4px;
    }

    #typingContainer {
      margin-top: 10px;
      padding: 10px;
      border-radius: 10px;
      background: rgba(248, 250, 252, 0.03);
      border: 1px solid #f97316;
      font-size: 13px;
    }

    #typingContainer p {
      margin: 0 0 6px;
    }

    #typingInput {
      width: 100%;
      padding: 6px 8px;
      border-radius: 8px;
      border: 1px solid #f97316;
      font-size: 13px;
      outline: none;
      background: #020617;
      color: var(--text-main);
    }

    #typingInput:focus {
      box-shadow: 0 0 0 2px rgba(249,115,22,0.4);
    }

    @media (max-width: 640px) {
      .controls {
        flex-direction: column;
        align-items: stretch;
      }
      #topInfo {
        flex-direction: column;
        align-items: flex-start;
      }
      #status {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>
<body>
  <div class="shell">
    <h1>의료법규 아케이드</h1>
    <div class="subtitle">
      물리치료 국가고시 수준 · 의료법 / 의료기사법 / 장애인·노인·건강보험법 퀴즈
    </div>

    <div class="controls">
      <div class="control-group">
        <span>🎮 모드 선택</span>
        <select id="modeSelect">
          <option value="normal">일반 모드</option>
          <option value="memorize">암기 모드 (오답 키워드 타이핑)</option>
        </select>
      </div>

      <div class="control-group">
        <span>📚 법 선택</span>
        <select id="categorySelect">
          <option value="all">전체</option>
          <option value="의료법">의료법</option>
          <option value="의료기사법">의료기사법</option>
          <option value="장애인복지법">장애인법</option>
          <option value="노인복지법">노인법</option>
          <option value="건강보험법">건강보험법</option>
        </select>
      </div>

      <div style="display:flex; gap:8px; margin-top:4px;">
        <button id="startBtn">▶ 퀴즈 시작</button>
      </div>
    </div>

    <div id="quizArea" style="display:none;">
      <div id="topInfo">
        <div class="chips" id="chipArea">
          <!-- 카테고리 칩 동적 생성 -->
        </div>
        <div class="progress-wrap">
          <div style="display:flex; justify-content:space-between; font-size:11px; color:var(--text-sub);">
            <span id="progressText">진행: 0 / 0</span>
            <span id="scoreText">정답: 0문제</span>
          </div>
          <div class="progress-bar-bg">
            <div class="progress-bar-fill" id="progressBar"></div>
          </div>
        </div>
      </div>

      <div id="questionHeader"></div>
      <div id="questionText"></div>
      <form id="optionsForm"></form>

      <div id="typingContainer" style="display:none;">
        <p>❗ 암기 모드 오답입니다. <b>정답 문장 안에 들어가는 핵심 단어</b>를 한 덩어리로 적어 보세요.<br>
        (띄어쓰기 상관 없음, 예: <code>국민건강보호증진</code> 처럼)</p>
        <input id="typingInput" type="text" placeholder="정답 안의 핵심 단어(2글자 이상)를 입력하세요." />
      </div>

      <div id="actionsRow">
        <button id="submitBtn">정답 제출</button>
        <button id="nextBtn" class="btn-secondary" disabled>다음 문제 ▶</button>
      </div>

      <div id="feedback"></div>
      <div id="explanation"></div>
      <div id="status"></div>
    </div>
  </div>

<script>
// ========== 문제 데이터 ==========
// 네가 올려 준 정리본의 핵심 포인트를 기반으로, 중복되는 내용은 묶어서 문제화해둔 거야.
const questions = [
  // ====== 의료법 ======
  {
    id: 1,
    category: "의료법",
    question: "의료법의 목적에 대한 설명으로 가장 옳은 것은?",
    options: [
      "의료기관의 영리 추구와 병상 수 확대를 통한 경제 성장에 이바지하기 위함이다.",
      "국민이 수준 높은 의료 혜택을 받을 수 있도록 국민 의료에 필요한 사항을 규정하고 국민의 건강을 보호·증진하기 위함이다.",
      "의료인의 단체 설립과 권익 보호를 최우선 목적으로 한다.",
      "보건의료 인력의 해외 진출을 촉진하기 위한 국제 협력을 목적으로 한다."
    ],
    correctIndex: 1,
    explanation: "의료법 제1조: '국민이 수준 높은 의료 혜택을 받을 수 있도록 국민 의료에 필요한 사항을 규정함으로써 국민의 건강을 보호·증진함'이 목적이다."
  },
  {
    id: 2,
    category: "의료법",
    question: "의료법상 '의료인'에 해당하는 직종으로 옳은 것은?",
    options: [
      "의사, 치과의사, 한의사, 조산사, 간호사",
      "의사, 간호사, 응급구조사, 방사선사",
      "의사, 치과의사, 약사, 간호조무사",
      "의사, 임상병리사, 안경사, 간호사"
    ],
    correctIndex: 0,
    explanation: "의료법에서 규정하는 의료인은 의사·치과의사·한의사·조산사·간호사이다. (보건복지부장관 면허)"
  },
  {
    id: 3,
    category: "의료법",
    question: "간호사의 임무 설명으로 옳지 않은 것은?",
    options: [
      "환자의 요구에 대한 관찰, 자료 수집, 간호판단 및 요양을 위한 간호",
      "의사·치과의사·한의사의 지도 하에 시행하는 진료의 보조",
      "간호요구자 교육 및 상담, 건강증진을 위한 활동의 기획과 수행",
      "의사의 지도 없이 독자적으로 질병을 진단하고 약을 처방하는 행위"
    ],
    correctIndex: 3,
    explanation: "간호사는 진단·처방 권한이 없으며, 진료는 의사 등의 지도 하에 보조하는 역할이다."
  },
  {
    id: 4,
    category: "의료법",
    question: "의료법상 의료기관의 정의로 옳은 것은?",
    options: [
      "의료인이 개인 진료만을 위한 장소",
      "공중 및 특정 다수인을 위한 의료 및 조산의 업을 하는 곳",
      "보건소와 보건지소만을 의미하는 곳",
      "약국과 의료기기 판매소를 포함한 모든 보건 관련 시설"
    ],
    correctIndex: 1,
    explanation: "의료기관: '공중 또는 특정 다수인을 위하여 의료 및 조산의 업을 하는 곳'을 말한다."
  },
  {
    id: 5,
    category: "의료법",
    question: "의원급 의료기관 개설에 대한 설명으로 옳은 것은?",
    options: [
      "주로 입원환자를 대상으로 하고 시·도지사의 허가를 받아야 한다.",
      "주로 외래환자를 대상으로 하고 시·군·구청장에게 신고한다.",
      "주로 정신질환자를 입원시키는 병원으로 보건복지부장관의 허가를 받는다.",
      "100병상 이상 요양병원만 의원급 의료기관이다."
    ],
    correctIndex: 1,
    explanation: "의원·한의원·치과의원은 '의원급 의료기관'으로, 주로 외래환자를 대상으로 하며 개설 시 시·군·구청장에게 신고한다."
  },
  {
    id: 6,
    category: "의료법",
    question: "병원급 의료기관 개설에 대한 설명으로 옳은 것은?",
    options: [
      "의원급과 동일하게 시·군·구청장에게 신고만 하면 된다.",
      "시·도지사의 허가를 받아야 한다.",
      "보건복지부장관의 허가를 받아야 한다.",
      "국무총리실의 승인을 받아야 한다."
    ],
    correctIndex: 1,
    explanation: "병원·치과병원·한방병원·요양병원·정신병원·종합병원 등 병원급 의료기관은 시·도지사의 허가를 받아야 한다."
  },
  {
    id: 7,
    category: "의료법",
    question: "병원·한방병원·요양병원의 병상 기준으로 옳은 것은?",
    options: [
      "병원·한방병원은 10병상 이상, 요양병원은 20요양병상 이상",
      "병원·한방병원은 30병상 이상, 요양병원은 30요양병상 이상",
      "병원·한방병원은 50병상 이상, 요양병원은 100요양병상 이상",
      "모든 병원급 의료기관은 100병상 이상"
    ],
    correctIndex: 1,
    explanation: "의료법에 따라 병원·한방병원은 30병상 이상, 요양병원은 30요양병상 이상을 갖추어야 한다."
  },
  {
    id: 8,
    category: "의료법",
    question: "100개 이상 300개 이하 병상을 가진 종합병원의 필수 진료과목 조합으로 옳은 것은?",
    options: [
      "내과·외과·소아청소년과·산부인과 4개만 있으면 된다.",
      "내과·외과·소아청소년과·산부인과 중 3개 이상 + 영상의학과·마취통증의학과·진단검사의학과(또는 병리과)",
      "정형외과·신경외과·소아청소년과·영상의학과",
      "내과·정신건강의학과·치과만 있으면 된다."
    ],
    correctIndex: 1,
    explanation: "100~300병상 종합병원: 내·외·소·산 중 3개 이상 + 영상의학과·마취통증의학과·진단검사의학과(또는 병리과) = 7개 필수 진료과목."
  },
  {
    id: 9,
    category: "의료법",
    question: "300병상을 초과하는 종합병원의 필수 진료과목 설명으로 옳은 것은?",
    options: [
      "내·외·소·산만 있으면 된다.",
      "내·외·소·산 중 3개 이상만 있으면 된다.",
      "7개 필수과(내·외·소·산 중 3개 + 영상·마취통증·진단검사의학과)에 정신건강의학과와 치과를 추가해 총 9개 과를 갖추어야 한다.",
      "필수 진료과목 규정이 없다."
    ],
    correctIndex: 2,
    explanation: "300병상 초과 종합병원은 7개 필수과목에 정신건강의학과와 치과를 더하여 총 9개 필수 진료과목을 갖추어야 한다."
  },
  {
    id: 10,
    category: "의료법",
    question: "다음 중 의사가 개설할 수 있는 의료기관의 조합으로 옳은 것은?",
    options: [
      "의원, 병원, 정신병원, 요양병원, 종합병원",
      "한의원, 한방병원, 요양병원",
      "치과의원, 치과병원",
      "조산원만 개설할 수 있다."
    ],
    correctIndex: 0,
    explanation: "의사는 의원·병원·정신병원·요양병원·종합병원을 개설할 수 있다."
  },
  {
    id: 11,
    category: "의료법",
    question: "요양병원의 입원대상자로 옳지 않은 것은?",
    options: [
      "노인성 질환자",
      "만성 질환자",
      "외과 수술 또는 상해 후 회복기간에 있는 자",
      "단순 감기환자만을 단기간 입원시키려는 경우"
    ],
    correctIndex: 3,
    explanation: "요양병원 입원대상: 노인성 질환자, 만성질환자, 수술·상해 후 회복기 환자, 노인성 치매환자 등이며 단순 감기환자만을 위한 입원은 요양병원 입원대상으로 보기 어렵다."
  },
  {
    id: 12,
    category: "의료법",
    question: "의료인의 결격사유에 해당하지 않는 사람은?",
    options: [
      "마약중독자",
      "피성년후견인·피한정후견인",
      "금고 이상의 실형 집행이 끝난 후 5년이 지나지 않은 사람",
      "정신질환자이나 전문의가 의료인으로서 적합하다고 인정한 사람"
    ],
    correctIndex: 3,
    explanation: "정신질환자는 원칙적 결격사유지만, 전문의가 의료인으로서 적합하다고 인정한 경우 예외로 결격사유에 해당하지 않는다."
  },
  {
    id: 13,
    category: "의료법",
    question: "의료법상 의료인 국가시험 시행권자와 횟수에 대한 설명으로 옳은 것은?",
    options: [
      "질병관리청장이 연 1회 시행한다.",
      "보건복지부장관이 매년 1회 이상 시행한다.",
      "국무총리가 2년마다 1회 시행한다.",
      "대통령이 필요 시 수시로 시행한다."
    ],
    correctIndex: 1,
    explanation: "의료인 국가시험은 보건복지부장관이 매년 1회 이상 시행한다."
  },
  {
    id: 14,
    category: "의료법",
    question: "진료기록부와 수술기록부의 보존연한으로 옳은 것은?",
    options: [
      "1년",
      "3년",
      "5년",
      "10년"
    ],
    correctIndex: 3,
    explanation: "진료기록부와 수술기록부는 10년간 보존해야 한다."
  },
  {
    id: 15,
    category: "의료법",
    question: "다음 중 기록의 보관 연한이 5년인 것은?",
    options: [
      "대리처방전, 수술실 출입기록부",
      "진단서 등 부본, 보수교육 관련 자료",
      "환자명부, 간호기록부, 조산기록부, 검사내용 및 소견 기록, 방사선 사진 및 소견서",
      "진료기록부, 수술기록부"
    ],
    correctIndex: 2,
    explanation: "환자명부·간호기록부·조산기록부·검사내용 및 검사소견 기록·방사선 사진 및 소견서는 5년 보존이다."
  },
  {
    id: 16,
    category: "의료법",
    question: "의료인의 보수교육에 대한 설명으로 옳은 것은?",
    options: [
      "시·도지사가 연 4시간 이상 시행한다.",
      "보건복지부장관이 연 6시간 이상 시행한다.",
      "보건복지부장관이 연 8시간 이상 시행한다.",
      "의료협회가 자율적으로 연 12시간 이상 시행한다."
    ],
    correctIndex: 2,
    explanation: "의료인의 보수교육은 보건복지부장관이 연 8시간 이상으로 정해 시행한다."
  },
  {
    id: 17,
    category: "의료법",
    question: "의료인의 취업상황 및 실태조사는 누가 몇 년마다 실시하는가?",
    options: [
      "보건복지부장관이 매년",
      "보건복지부장관이 3년마다",
      "질병관리청장이 매년",
      "시·도지사가 5년마다"
    ],
    correctIndex: 1,
    explanation: "의료인의 취업상황 및 실태조사는 보건복지부장관이 3년마다 실시한다."
  },
  {
    id: 18,
    category: "의료법",
    question: "의료기관 실태조사는 누가 얼마나 자주 하는가?",
    options: [
      "보건복지부장관이 매년 실시한다.",
      "보건복지부장관이 3년마다 실시한다.",
      "질병관리청장이 매년 실시한다.",
      "시·군·구청장이 2년마다 실시한다."
    ],
    correctIndex: 0,
    explanation: "의료기관 실태조사는 보건복지부장관이 매년 실시한다."
  },
  {
    id: 19,
    category: "의료법",
    question: "가정전문간호사에게 가정간호를 의뢰할 수 있는 의료인은?",
    options: [
      "의사와 치과의사",
      "의사와 한의사",
      "치과의사와 한의사",
      "모든 의료인"
    ],
    correctIndex: 1,
    explanation: "가정간호 의뢰 가능 의료인: 의사, 한의사. 처방 및 유효기간은 90일 이내이다."
  },
  {
    id: 20,
    category: "의료법",
    question: "의료법인 설립에 대한 설명으로 옳은 것은?",
    options: [
      "시·군·구청장의 허가를 받아야 한다.",
      "보건복지부장관의 허가를 받아야 한다.",
      "시·도지사의 허가를 받아야 한다.",
      "법무부장관의 허가를 받아야 한다."
    ],
    correctIndex: 2,
    explanation: "의료법인을 설립하려는 자는 시·도지사의 허가를 받아야 한다."
  },
  {
    id: 21,
    category: "의료법",
    question: "의료업 폐업 또는 1개월 이상 휴업 시 누구에게 신고해야 하는가?",
    options: [
      "보건복지부장관",
      "시·군·구청장",
      "시·도지사",
      "관할 경찰서장"
    ],
    correctIndex: 1,
    explanation: "의료업 폐업 및 1개월 이상 휴업 시 의료기관 개설자는 시·군·구청장에게 신고해야 한다."
  },
  {
    id: 22,
    category: "의료법",
    question: "의료기관 개설자가 휴업·폐업 신고 시 진료기록부 등을 어디에 이관해야 하는가?",
    options: [
      "보건복지부장관",
      "질병관리청장",
      "관할 보건소장",
      "관할 경찰서장"
    ],
    correctIndex: 2,
    explanation: "휴업 및 폐업 신고 시 진료기록부 등은 관할 보건소장에게 이관해야 한다."
  },
  {
    id: 23,
    category: "의료법",
    question: "각종 의료기관에서 의사의 정원 기준으로 옳은 것은?",
    options: [
      "종합병원·병원·의원: 입원환자 10명당 1명, 요양병원: 20명당 1명",
      "종합병원·병원·의원: 입원환자 20명당 1명, 요양병원: 입원환자 40명당 1명",
      "종합병원·병원·의원: 입원환자 30명당 1명, 요양병원: 60명당 1명",
      "종합병원·병원·의원: 입원환자 40명당 1명, 요양병원: 80명당 1명"
    ],
    correctIndex: 1,
    explanation: "의사 정원 기준: 종합병원·병원·의원은 입원환자 20명당 1명(외래 3명=입원 1명), 요양병원은 입원환자 40명당 1명(외래 3명=입원 1명)."
  },
  {
    id: 24,
    category: "의료법",
    question: "간호사의 정원 기준으로 옳은 것은?",
    options: [
      "종합병원·병원·치과병원·의원: 입원환자 2.5명당 1명, 한방병원: 5명당 1명, 요양병원: 6명당 1명",
      "모든 의료기관: 입원환자 2.5명당 1명",
      "요양병원만 입원환자 2명당 1명",
      "정신병원만 별도 기준을 가진다."
    ],
    correctIndex: 0,
    explanation: "간호사 정원: 종합병원·병원·치과병원·의원 2.5명당 1명, 한방병원 5명당 1명, 요양병원 6명당 1명(외래 12명=입원 1명)."
  },
  {
    id: 25,
    category: "의료법",
    question: "병원·치과병원·한방병원·종합병원에서 당직 의료인의 수 기준으로 옳은 것은?",
    options: [
      "의사·치과의사·한의사: 입원환자 100명당 1명, 간호사: 100명당 1명",
      "의사·치과의사·한의사: 입원환자 200명당 1명, 간호사: 200명당 2명",
      "의사·치과의사·한의사: 입원환자 300명당 1명, 간호사: 80명당 1명",
      "의사·치과의사·한의사와 간호사 모두 입원환자 50명당 1명"
    ],
    correctIndex: 1,
    explanation: "당직 의료인 수: 병원·치과병원·한방병원·종합병원 → 의사 등 200명당 1명, 간호사 200명당 2명."
  },
  {
    id: 26,
    category: "의료법",
    question: "요양병원의 당직 의료인 수 기준으로 옳은 것은?",
    options: [
      "의사 등 100명당 1명, 간호사 40명당 1명",
      "의사 등 200명당 1명, 간호사 80명당 1명",
      "의사 등 300명당 1명, 간호사 80명당 1명",
      "의사 등 400명당 1명, 간호사 100명당 1명"
    ],
    correctIndex: 2,
    explanation: "요양병원: 의사·치과의사·한의사 300명당 1명, 간호사 80명당 1명."
  },
  {
    id: 27,
    category: "의료법",
    question: "감염관리위원회 설치 의무가 있는 의료기관 기준으로 옳은 것은?",
    options: [
      "모든 의원급 의료기관",
      "병상 수에 관계없이 병원급 의료기관",
      "100병상 이상을 갖춘 병원급 의료기관",
      "요양병원만 해당된다."
    ],
    correctIndex: 2,
    explanation: "감염관리위원회는 100개 이상 병상을 갖춘 병원급 의료기관에 설치·운영해야 한다."
  },
  {
    id: 28,
    category: "의료법",
    question: "감염관리실 운영 및 전담인력 배치 의무가 있는 의료기관은?",
    options: [
      "모든 의원급 의료기관",
      "종합병원 및 150개 이상 병상을 갖춘 병원·치과병원·한방병원",
      "요양병원만 해당",
      "보건소만 해당"
    ],
    correctIndex: 1,
    explanation: "종합병원 또는 150병상 이상을 갖춘 병원·치과병원·한방병원은 감염관리를 위한 전담인력을 배치해야 한다."
  },
  {
    id: 29,
    category: "의료법",
    question: "진단용 방사선 발생장치를 설치·운영하려는 의료기관은 누구에게 신고해야 하는가?",
    options: [
      "보건복지부장관",
      "시·군·구청장",
      "시·도지사",
      "관할 경찰서장"
    ],
    correctIndex: 1,
    explanation: "진단용 방사선 발생장치 설치·운영은 시·군·구청장에게 신고한다."
  },
  {
    id: 30,
    category: "의료법",
    question: "특수의료장비(CT 등)를 설치·운영하려는 의료기관이 해야 할 절차는?",
    options: [
      "보건복지부장관 허가",
      "시·도지사 허가",
      "시·군·구청장 등록",
      "질병관리청장 신고"
    ],
    correctIndex: 2,
    explanation: "특수의료장비 설치·운영은 시·군·구청장에게 등록하여야 한다."
  },
  {
    id: 31,
    category: "의료법",
    question: "변사체 신고의무자와 신고처의 올바른 조합은?",
    options: [
      "의사·치과의사·한의사·조산사·간호사 / 관할 보건소장",
      "의사·치과의사·한의사·조산사 / 관할 경찰서장",
      "의사·간호사 / 시·군·구청장",
      "의사·치과의사·한의사 / 보건복지부장관"
    ],
    correctIndex: 1,
    explanation: "변사체 신고의무자: 의사·치과의사·한의사·조산사, 신고처: 관할 경찰서장. 간호사는 포함되지 않는다."
  },
  {
    id: 32,
    category: "의료법",
    question: "태아 성 감별 목적의 검사 금지 주수는 몇 주부터인가?",
    options: [
      "24주",
      "28주",
      "32주",
      "36주"
    ],
    correctIndex: 2,
    explanation: "의료법상 태아 성 감별 목적의 검사는 임신 32주부터 금지된다."
  },
  {
    id: 33,
    category: "의료법",
    question: "진료기록 전송지원시스템 구축·운영자는 누구인가?",
    options: [
      "국민건강보험공단 이사장",
      "질병관리청장",
      "보건복지부장관",
      "시·도지사"
    ],
    correctIndex: 2,
    explanation: "진료기록 전송지원시스템은 보건복지부장관이 구축·운영한다."
  },
  {
    id: 34,
    category: "의료법",
    question: "전자 의무기록시스템 표준화에 관한 고시를 하는 자는?",
    options: [
      "보건복지부장관",
      "국민건강보험공단 이사장",
      "시·도지사",
      "국무총리"
    ],
    correctIndex: 0,
    explanation: "전자 의무기록시스템 표준화는 보건복지부장관이 고시한다."
  },
  {
    id: 35,
    category: "의료법",
    question: "부당한 경제적 이익 등의 제공 금지에서 예외로 인정되는 행위가 아닌 것은?",
    options: [
      "견본품 제공",
      "학술대회 지원",
      "임상시험 지원",
      "의료인에게 현금 리베이트 제공"
    ],
    correctIndex: 3,
    explanation: "현금 리베이트 제공은 부당한 경제적 이익 제공으로 금지된다. 견본품 제공, 학술대회·임상시험 지원 등은 예외로 허용된다."
  },
  {
    id: 36,
    category: "의료법",
    question: "의료인이 교부할 수 있는 서류 설명으로 옳은 것은?",
    options: [
      "진단서·검안서·증명서는 간호사도 교부할 수 있다.",
      "의사·치과의사·한의사가 진단서·검안서·증명서를 교부할 수 있다.",
      " 출생·사망·사산증명서는 간호사만 교부할 수 있다.",
      "조산사는 어떠한 증명서도 교부할 수 없다."
    ],
    correctIndex: 1,
    explanation: "진단서·검안서·증명서: 의사·치과의사·한의사가 교부. 출생·사망·사산증명서는 의사·한의사·조산사가 교부할 수 있다."
  },
  {
    id: 37,
    category: "의료법",
    question: "출생·사망·사산증명서를 교부할 수 있는 의료인은?",
    options: [
      "의사·치과의사·한의사·조산사",
      "의사·한의사·조산사",
      "의사·치과의사·간호사",
      "의사·간호사·조산사"
    ],
    correctIndex: 1,
    explanation: "출생·사망·사산증명서 교부권자: 의사, 한의사, 조산사."
  },

  // ====== 의료기사법 ======
  {
    id: 101,
    category: "의료기사법",
    question: "의료기사법의 목적에 가장 알맞은 것은?",
    options: [
      "의료기사의 임금 보전을 통해 생활 안정을 도모한다.",
      "국민 보건 및 의료 향상에 이바지한다.",
      "의료기사 단체 설립을 지원한다.",
      "의료기기 제조업체의 권익을 보호한다."
    ],
    correctIndex: 1,
    explanation: "의료기사법의 목적은 '국민 보건 및 의료 향상에 이바지함'이다."
  },
  {
    id: 102,
    category: "의료기사법",
    question: "의료기사의 정의로 옳은 것은?",
    options: [
      "의료법상 의료인에 해당하는 사람",
      "의사 및 치과의사의 지도 하에 진료와 의학적·화학적 검사에 종사하는 사람",
      "진료와 무관하게 병원 행정업무를 수행하는 사람",
      "응급환자 이송 업무만 하는 사람"
    ],
    correctIndex: 1,
    explanation: "의료기사: 의사 및 치과의사의 지도 하에 진료와 의학적·화학적 검사에 종사하는 사람."
  },
  {
    id: 103,
    category: "의료기사법",
    question: "다음 중 의료기사법에서 규정하는 '의료기사 등'에 해당하지 않는 직종은?",
    options: [
      "물리치료사",
      "작업치료사",
      "임상병리사",
      "응급구조사"
    ],
    correctIndex: 3,
    explanation: "의료기사 등: 물리치료사, 작업치료사, 임상병리사, 방사선사, 치위생사, 치과기공사, 안경사, 보건의료정보관리사. 응급구조사는 별도 법령."
  },
  {
    id: 104,
    category: "의료기사법",
    question: "물리치료사의 업무에 대한 설명으로 옳은 것은?",
    options: [
      "수술과 마취를 직접 시행한다.",
      "신체교정, 재활, 마사지 등으로 치료한다.",
      "독립적으로 질병을 진단하고 약을 처방한다.",
      "정신질환에 대한 심리상담을 주로 수행한다."
    ],
    correctIndex: 1,
    explanation: "물리치료사 업무: 신체 교정, 재활, 마사지 등으로 치료."
  },
  {
    id: 105,
    category: "의료기사법",
    question: "의료기사 보수교육 시간으로 옳은 것은?",
    options: [
      "매년 4시간 이상",
      "매년 6시간 이상",
      "매년 8시간 이상",
      "매년 12시간 이상"
    ],
    correctIndex: 2,
    explanation: "의료기사 보수교육: 매년 8시간 이상."
  },
  {
    id: 106,
    category: "의료기사법",
    question: "의료기사의 결격사유에 해당하는 사람은?",
    options: [
      "정신질환자",
      "마약중독자",
      "피성년후견인·피한정후견인",
      "위 모든 사람"
    ],
    correctIndex: 3,
    explanation: "의료기사 결격사유: 정신질환자, 마약중독자, 피성년후견인·피한정후견인, 금고 이상 실형 집행이 끝나지 않았거나 면제되지 않은 사람 등."
  },
  {
    id: 107,
    category: "의료기사법",
    question: "의료기사 취업실태 및 상황 조사를 누가 몇 년마다 실시하는가?",
    options: [
      "보건복지부장관이 매년",
      "보건복지부장관이 3년마다",
      "질병관리청장이 3년마다",
      "국민건강보험공단 이사장이 5년마다"
    ],
    correctIndex: 1,
    explanation: "의료기사 취업실태 및 상황 조사는 보건복지부장관이 3년마다 실시한다."
  },
  {
    id: 108,
    category: "의료기사법",
    question: "의료기사 국가시험 합격자 결정 기준으로 옳은 것은?",
    options: [
      "전 과목 평균 60% 이상",
      "매 과목 40% 이상, 전 과목 평균 60% 이상",
      "매 과목 40% 이상, 전 과목 60% 이상, 실기 60% 이상",
      "매 과목 50% 이상, 전 과목 평균 70% 이상"
    ],
    correctIndex: 2,
    explanation: "합격기준: 매 과목 40% 이상, 전 과목 60% 이상, 실기시험 60% 이상."
  },
  {
    id: 109,
    category: "의료기사법",
    question: "의료기사 등의 구체적 업무 범위와 한계를 정하는 것은?",
    options: [
      "의료기사협회의 정관",
      "대통령령",
      "보건복지부 고시",
      "국민건강보험공단 내규"
    ],
    correctIndex: 1,
    explanation: "의료기사 등의 구체적 업무 범위와 한계는 대통령령으로 정한다."
  },

  // ====== 장애인복지법 ======
  {
    id: 201,
    category: "장애인복지법",
    question: "장애인복지법의 목적에 가장 가까운 것은?",
    options: [
      "장애인의 경제력 향상을 통해 재산 형성을 돕는다.",
      "장애인의 복지와 사회참여 증진을 통한 사회통합에 이바지한다.",
      "장애인의 정치 참여 확대를 유도한다.",
      "장애인 관련 기관의 수익성을 향상시킨다."
    ],
    correctIndex: 1,
    explanation: "장애인복지법 목적: 장애인의 복지와 사회참여 증진을 통한 사회통합에 이바지하는 것."
  },
  {
    id: 202,
    category: "장애인복지법",
    question: "장애인의 정의로 옳은 것은?",
    options: [
      "신체적 장애가 있는 사람만을 의미한다.",
      "정신적 장애가 있는 사람만을 의미한다.",
      "신체적·정신적 장애로 인해 오랫동안 일상·사회생활에서 상당한 제약을 받는 사람을 의미한다.",
      "지적장애 1급만을 의미한다."
    ],
    correctIndex: 2,
    explanation: "장애인: 신체적·정신적 장애로 오랫동안 일상 또는 사회생활에서 상당한 제약을 받는 사람."
  },
  {
    id: 203,
    category: "장애인복지법",
    question: "장애인에 대한 신체적·정신적·정서적 폭력 등 행위를 무엇이라 하는가?",
    options: [
      "장애인 차별",
      "장애인 학대",
      "장애인 방임",
      "장애인 보호"
    ],
    correctIndex: 1,
    explanation: "장애인에 대한 신체적·정신적·정서적 폭력 등은 '장애인 학대'에 해당한다."
  },
  {
    id: 204,
    category: "장애인복지법",
    question: "장애 정도가 심하여 자립하기 곤란한 장애인을 무엇이라고 하는가?",
    options: [
      "경증장애인",
      "중증장애인",
      "잠재장애인",
      "특수장애인"
    ],
    correctIndex: 1,
    explanation: "장애 정도가 심해 자립하기 곤란한 장애인을 중증장애인이라 한다."
  },
  {
    id: 205,
    category: "장애인복지법",
    question: "장애인정책 종합계획 수립 주체와 주기에 대한 설명으로 옳은 것은?",
    options: [
      "보건복지부장관이 매년 수립한다.",
      "보건복지부장관이 3년마다 수립한다.",
      "보건복지부장관이 관계 중앙행정기관의 장과 협의하여 5년마다 수립한다.",
      "국무총리가 5년마다 단독으로 수립한다."
    ],
    correctIndex: 2,
    explanation: "장애인정책 종합계획은 보건복지부장관이 관계 중앙행정기관의 장과 협의하여 5년마다 수립한다."
  },
  {
    id: 206,
    category: "장애인복지법",
    question: "장애인정책조정위원회의 소속과 위원장에 대한 설명으로 옳은 것은?",
    options: [
      "보건복지부 소속, 위원장 보건복지부장관",
      "국무총리 소속, 위원장 국무총리, 부위원장 보건복지부장관",
      "대통령 소속, 위원장 대통령",
      "시·도지사 소속, 위원장 시·도지사"
    ],
    correctIndex: 1,
    explanation: "장애인정책조정위원회는 국무총리 소속, 위원장 국무총리, 부위원장 보건복지부장관."
  },
  {
    id: 207,
    category: "장애인복지법",
    question: "장애인의 날과 장애인 실태조사에 대한 설명으로 옳은 것은?",
    options: [
      "장애인의 날은 10월 2일, 실태조사는 매년 실시",
      "장애인의 날은 4월 20일, 실태조사는 3년마다 실시",
      "장애인의 날은 6월 15일, 실태조사는 5년마다 실시",
      "장애인의 날은 4월 20일, 실태조사는 매년 실시"
    ],
    correctIndex: 1,
    explanation: "장애인의 날: 4월 20일, 장애인 실태조사: 보건복지부장관이 3년마다 실시."
  },
  {
    id: 208,
    category: "장애인복지법",
    question: "장애인 등록 권자는 누구인가?",
    options: [
      "보건복지부장관",
      "국민건강보험공단 이사장",
      "특별자치시·도지사 및 시·군·구청장",
      "국무총리"
    ],
    correctIndex: 2,
    explanation: "장애인, 법정대리인 또는 보호자는 장애상태 등을 특별자치시·도지사 또는 시·군·구청장에게 등록한다."
  },
  {
    id: 209,
    category: "장애인복지법",
    question: "장애인 서비스 지원 종합조사를 실시하는 자와 위탁기관에 대한 설명으로 옳은 것은?",
    options: [
      "보건복지부장관이 단독으로 실시하며 위탁 불가",
      "보건복지부장관·특별자치시·도지사·시·군·구청장이 실시하며 국민연금공단에 위탁할 수 있다.",
      "국민건강보험공단이 직접 실시한다.",
      "민간기관이 직접 실시한다."
    ],
    correctIndex: 1,
    explanation: "서비스 지원 종합조사는 보건복지부장관·특별자치시·도지사·시·군·구청장이 실시하고, 국민연금공단에 위탁할 수 있다."
  },
  {
    id: 210,
    category: "장애인복지법",
    question: "장애인 자동차 표지 발급 기관은 어디인가?",
    options: [
      "보건복지부장관",
      "국민연금공단",
      "시·군·구청장",
      "장애인단체협의회"
    ],
    correctIndex: 2,
    explanation: "장애인 자동차 표지는 시·군·구청에서 발급한다."
  },
  {
    id: 211,
    category: "장애인복지법",
    question: "장애인 보조견 표지 발급 권자는 누구인가?",
    options: [
      "보건복지부장관",
      "시·도지사",
      "국민건강보험공단",
      "장애인복지관장"
    ],
    correctIndex: 0,
    explanation: "장애인 보조견 표지는 보건복지부장관이 발급한다."
  },
  {
    id: 212,
    category: "장애인복지법",
    question: "장애인 자녀 교육비 지급대상 결정을 하는 자는 누구인가?",
    options: [
      "신청과 결정을 모두 시·군·구청장이 한다.",
      "신청은 시·군·구청장, 결정은 보건복지부장관이 한다.",
      "신청과 결정을 모두 보건복지부장관이 한다.",
      "신청은 보건복지부장관, 결정은 시·군·구청장이 한다."
    ],
    correctIndex: 1,
    explanation: "장애인 자녀 교육비: 신청은 시·군·구청장, 지급대상 결정은 보건복지부장관."
  },
  {
    id: 213,
    category: "장애인복지법",
    question: "장애인복지시설의 종류와 설명이 옳지 않은 것은?",
    options: [
      "장애인 거주시설: 일정 기간 주거 및 요양 지원 서비스를 제공",
      "장애인 지역사회재활시설: 상담·치료·훈련·일상생활 및 여가·사회참여활동을 지원",
      "장애인 자립생활지원시설: 자립생활 역량 강화를 위한 상담 등 서비스 제공",
      "장애인복지시설은 국가만 설치·운영할 수 있다."
    ],
    correctIndex: 3,
    explanation: "장애인복지시설은 국가·지자체 외에도 일정한 조건을 갖춘 자가 설치·운영할 수 있으며, 시·군·구청장에게 신고한다."
  },
  {
    id: 214,
    category: "장애인복지법",
    question: "장애인 거주시설의 입소 인원 제한과 장애인 학대·성범죄자의 취업제한 기간으로 옳은 것은?",
    options: [
      "입소 인원 50명 이내, 취업제한 5년",
      "입소 인원 30명 이내, 취업제한 최대 10년",
      "입소 인원 20명 이내, 취업제한 3년",
      "입소 인원 제한 없음, 취업제한 최대 10년"
    ],
    correctIndex: 1,
    explanation: "장애인 거주시설 인원 제한: 30명, 장애인 학대·성범죄자의 취업제한 기간: 최대 10년."
  },

  // ====== 노인복지법 ======
  {
    id: 301,
    category: "노인복지법",
    question: "노인복지법 제정 목적에 가장 가까운 것은?",
    options: [
      "노인의 재산 형성과 상속을 촉진하기 위함",
      "노인의 질환 예방 및 생활 안정을 통한 노인 보건복지 증진에 이바지하기 위함",
      "노인의 정치참여 확대를 위한 제도 마련",
      "노인전문병원 수익성을 높이기 위한 것"
    ],
    correctIndex: 1,
    explanation: "노인복지법 목적: 노인의 질환 예방 및 생활안정을 통하여 노인 보건복지 증진에 이바지."
  },
  {
    id: 302,
    category: "노인복지법",
    question: "부양의무자에 해당하지 않는 사람은?",
    options: [
      "배우자",
      "직계비속",
      "직계비속의 배우자",
      "친구"
    ],
    correctIndex: 3,
    explanation: "부양의무자: 배우자, 직계비속, 직계비속의 배우자, 사실혼 배우자. 친구는 해당하지 않는다."
  },
  {
    id: 303,
    category: "노인복지법",
    question: "노인학대의 정의로 옳은 것은?",
    options: [
      "노인의 재산을 상속하는 행위",
      "노인에게 신체적·정신적·정서적·성적 폭력 등을 가하는 행위",
      "노인을 요양시설에 입소시키는 행위",
      "노인에게 무료급식을 제공하는 행위"
    ],
    correctIndex: 1,
    explanation: "노인학대: 노인에 대한 신체적·정신적·정서적·성적 폭력 등."
  },
  {
    id: 304,
    category: "노인복지법",
    question: "퇴행성 뇌질환 또는 뇌혈관계 질환 등으로 기억·언어·인지능력이 저하된 상태를 무엇이라고 하는가?",
    options: [
      "우울증",
      "치매",
      "섬망",
      "조현병"
    ],
    correctIndex: 1,
    explanation: "해당 상태는 노인복지법에서 '치매'로 정의된다."
  },
  {
    id: 305,
    category: "노인복지법",
    question: "노인 실태조사를 누가 몇 년마다 실시하는가?",
    options: [
      "보건복지부장관이 매년 실시",
      "보건복지부장관이 3년마다 실시",
      "시·도지사가 3년마다 실시",
      "국민건강보험공단이 5년마다 실시"
    ],
    correctIndex: 1,
    explanation: "노인 실태조사: 보건복지부장관이 3년마다 실시."
  },
  {
    id: 306,
    category: "노인복지법",
    question: "노인의 날과 노인학대예방의 날에 대한 설명으로 옳은 것은?",
    options: [
      "노인의 날 4월 20일, 노인학대예방의 날 6월 15일",
      "노인의 날 10월 2일, 노인학대예방의 날 6월 15일",
      "노인의 날 10월 2일, 노인학대예방의 날 4월 20일",
      "노인의 날 6월 15일, 노인학대예방의 날 10월 2일"
    ],
    correctIndex: 1,
    explanation: "노인의 날: 10월 2일, 노인학대예방의 날: 6월 15일."
  },
  {
    id: 307,
    category: "노인복지법",
    question: "청소·주차관리·매표 등의 사업을 위탁할 때 65세 이상 노인을 몇 % 이상 채용한 사업체를 우선 고려해야 하는가?",
    options: [
      "10%",
      "20%",
      "30%",
      "50%"
    ],
    correctIndex: 1,
    explanation: "청소·주차관리·매표 등 사업 위탁 시, 65세 이상 노인을 20% 이상 채용한 사업체를 우선적으로 고려한다."
  },
  {
    id: 308,
    category: "노인복지법",
    question: "노인 건강진단에 대한 설명으로 옳은 것은?",
    options: [
      "보건복지부장관이 매년 1회 이상 실시한다.",
      "보건복지부장관·시·도지사·시·군·구청장이 2년마다 1회 이상 국·공립병원 또는 건강진단기관에서 실시한다.",
      "국민건강보험공단 이사장이 5년마다 실시한다.",
      "보건소만 단독으로 실시한다."
    ],
    correctIndex: 1,
    explanation: "노인 건강진단: 보건복지부장관·시·도지사·시·군·구청장이 2년에 1회 이상 국·공립병원, 보건소, 건강진단기관에서 1·2차로 실시(14일 전 공고)."
  },
  {
    id: 309,
    category: "노인복지법",
    question: "노인성 질환의 범위로 옳은 것은?",
    options: [
      "안 질환, 무릎관절증, 전립선 질환",
      "당뇨병, 고혈압, 폐렴",
      "위염, 장염, 비염",
      "모든 만성질환"
    ],
    correctIndex: 0,
    explanation: "노인성 질환으로 안 질환, 무릎관절증, 전립선 질환 등이 포함된다."
  },
  {
    id: 310,
    category: "노인복지법",
    question: "노인복지시설 중 '노인주거복지시설'에 해당하는 것은?",
    options: [
      "노인요양시설, 노인요양공동생활가정",
      "노인복지관, 경로당, 노인교실",
      "양로시설, 노인공동생활가정, 노인복지주택",
      "방문요양, 주야간보호, 단기보호"
    ],
    correctIndex: 2,
    explanation: "노인주거복지시설: 양로시설, 노인공동생활가정, 노인복지주택."
  },
  {
    id: 311,
    category: "노인복지법",
    question: "노인복지주택에 입소할 수 있는 대상으로 옳은 것은?",
    options: [
      "65세 이상 노인만 가능",
      "60세 이상 노인과 그 배우자, 24세 미만 자녀·손자녀, 24세 이상 장애인 자녀·손자녀",
      "경제력이 있는 노인만 가능",
      "기초생활수급 노인만 가능"
    ],
    correctIndex: 1,
    explanation: "노인복지주택 입소 대상: 60세 이상 노인, 배우자, 24세 미만 자녀·손자녀, 24세 이상 장애인 자녀·손자녀."
  },
  {
    id: 312,
    category: "노인복지법",
    question: "노인의료복지시설에 해당하는 것은?",
    options: [
      "노인요양시설과 노인요양공동생활가정",
      "노인복지관과 경로당",
      "양로시설과 노인복지주택",
      "방문요양과 주야간보호"
    ],
    correctIndex: 0,
    explanation: "노인의료복지시설: 노인요양시설, 노인요양공동생활가정."
  },
  {
    id: 313,
    category: "노인복지법",
    question: "노인요양시설과 노인요양공동생활가정의 차이를 잘 설명한 것은?",
    options: [
      "둘 다 요양서비스만 제공하고 주거는 제공하지 않는다.",
      "노인요양시설은 요양과 일상생활 편의를 제공하는 시설, 노인요양공동생활가정은 가정과 같은 주거여건에서 급식·요양·일상생활 편의를 제공하는 시설이다.",
      "노인요양공동생활가정은 의료서비스만 제공하는 병원이다.",
      "두 시설은 법적 차이가 없다."
    ],
    correctIndex: 1,
    explanation: "노인요양시설: 요양 및 일상생활 편의 제공. 노인요양공동생활가정: 가정과 같은 주거여건과 급식·요양 및 일상생활 편의 제공."
  },
  {
    id: 314,
    category: "노인복지법",
    question: "노인여가복지시설의 종류로 옳은 것은?",
    options: [
      "노인복지관, 경로당, 노인교실",
      "양로시설, 노인공동생활가정, 노인복지주택",
      "노인요양시설, 노인요양공동생활가정",
      "방문요양, 방문목욕, 방문간호"
    ],
    correctIndex: 0,
    explanation: "노인여가복지시설: 노인복지관(60세 이상), 경로당(65세 이상), 노인교실(60세 이상)."
  },
  {
    id: 315,
    category: "노인복지법",
    question: "재가노인복지시설에 해당하지 않는 것은?",
    options: [
      "방문요양서비스",
      "주·야간보호서비스",
      "단기보호서비스",
      "노인복지주택"
    ],
    correctIndex: 3,
    explanation: "재가노인복지시설: 방문요양, 주·야간보호, 단기보호, 방문목욕, 방문간호, 재가노인지원, 복지용구지원 등. 노인복지주택은 주거복지시설."
  },
  {
    id: 316,
    category: "노인복지법",
    question: "요양보호사 자격증 교부권자는 누구인가?",
    options: [
      "보건복지부장관",
      "국무총리",
      "시·도지사",
      "시·군·구청장"
    ],
    correctIndex: 2,
    explanation: "요양보호사 자격증은 시·도지사가 교부한다."
  },

  // ====== 건강보험법 ======
  {
    id: 401,
    category: "건강보험법",
    question: "국민건강보험 종합계획 수립 주체와 주기에 대한 설명으로 옳은 것은?",
    options: [
      "보건복지부장관이 3년마다 수립한다.",
      "보건복지부장관이 5년마다 수립한다.",
      "국민건강보험공단 이사장이 5년마다 수립한다.",
      "시·도지사가 5년마다 수립한다."
    ],
    correctIndex: 1,
    explanation: "국민건강보험 종합계획: 보건복지부장관이 5년마다 수립."
  },
  {
    id: 402,
    category: "건강보험법",
    question: "국민건강보험 시행계획의 수립 주체와 주기에 대한 설명으로 옳은 것은?",
    options: [
      "보건복지부장관이 매년 수립한다.",
      "국민건강보험공단이 매년 수립한다.",
      "시·도지사가 3년마다 수립한다.",
      "국무총리가 5년마다 수립한다."
    ],
    correctIndex: 0,
    explanation: "국민건강보험 시행계획: 보건복지부장관이 매년 수립."
  },
  {
    id: 403,
    category: "건강보험법",
    question: "국민건강보험 종합계획 및 시행계획에 관한 심의·의결을 담당하는 기구는?",
    options: [
      "국민건강보험공단 이사회",
      "보건복지부 중앙심의위원회",
      "건강보험정책심의위원회(보건복지부장관 소속)",
      "국무회의"
    ],
    correctIndex: 2,
    explanation: "건강보험정책심의위원회(보건복지부장관 소속)가 종합계획 및 시행계획을 심의·의결한다."
  },
  {
    id: 404,
    category: "건강보험법",
    question: "국민건강보험 직장가입자의 범위 설명으로 옳지 않은 것은?",
    options: [
      "근로자",
      "사용자",
      "공무원 및 교직원",
      "자영업자"
    ],
    correctIndex: 3,
    explanation: "직장가입자: 근로자, 사용자, 공무원, 교직원. 자영업자는 지역가입자에 해당한다."
  },
  {
    id: 405,
    category: "건강보험법",
    question: "지역가입자에 대한 설명으로 옳은 것은?",
    options: [
      "직장가입자와 그 피부양자를 말한다.",
      "세대주와 세대원을 말하되 직장가입자 및 그 피부양자는 제외된다.",
      "근로자만을 의미한다.",
      "공무원과 교직원만 의미한다."
    ],
    correctIndex: 1,
    explanation: "지역가입자: 세대주와 세대원 중 직장가입자 및 그 피부양자를 제외한 자."
  },
  {
    id: 406,
    category: "건강보험법",
    question: "피부양자의 범위로 옳지 않은 것은?",
    options: [
      "배우자",
      "직계존속",
      "직계비속",
      "형제자매의 친구"
    ],
    correctIndex: 3,
    explanation: "피부양자: 배우자, 직계존속, 직계비속, 형제자매 등. 친구는 해당하지 않는다."
  },
  {
    id: 407,
    category: "건강보험법",
    question: "지역가입자의 자격변동 시 신고에 대한 설명으로 옳은 것은?",
    options: [
      "직접 보건복지부에 7일 이내 신고한다.",
      "세대주가 14일 이내에 보험자(공단)에 신고한다.",
      "세대원이 30일 이내에 시·군·구청장에게 신고한다.",
      "신고 의무가 없다."
    ],
    correctIndex: 1,
    explanation: "지역가입자 자격변동 시: 세대주가 14일 이내에 보험자(국민건강보험공단)에 신고한다."
  },
  {
    id: 408,
    category: "건강보험법",
    question: "직장가입자의 자격변동 시 신고에 대한 설명으로 옳은 것은?",
    options: [
      "본인이 14일 이내에 공단에 신고한다.",
      "사용자가 14일 이내에 보험자(공단)에 신고한다.",
      "사용자가 30일 이내에 시·군·구청장에게 신고한다.",
      "신고 의무가 없다."
    ],
    correctIndex: 1,
    explanation: "직장가입자의 자격변동 시: 사용자가 14일 이내에 보험자(공단)에 신고."
  },
  {
    id: 409,
    category: "건강보험법",
    question: "피부양자의 자격변동 신고기한으로 옳은 것은?",
    options: [
      "14일 이내",
      "30일 이내",
      "90일 이내",
      "기한 제한 없음"
    ],
    correctIndex: 2,
    explanation: "피부양자 자격변동 신고: 90일 이내."
  },
  {
    id: 410,
    category: "건강보험법",
    question: "건강보험법에서 말하는 요양기관에 해당하지 않는 것은?",
    options: [
      "의료기관",
      "약국",
      "한국희귀의약품센터",
      "노인복지관"
    ],
    correctIndex: 3,
    explanation: "요양기관: 의료기관, 약국, 한국희귀의약품센터, 보건소, 보건지소, 보건진료소 등. 노인복지관은 요양기관이 아니다."
  },
  {
    id: 411,
    category: "건강보험법",
    question: "건강보험에서 보험자·피보험자·요양기관 간 관계를 무엇이라 하는가?",
    options: [
      "직접 지불제",
      "3자 지불제",
      "포괄수가제",
      "민간보험제"
    ],
    correctIndex: 1,
    explanation: "건강보험은 보험자(공단)가 요양기관에 비용을 지불하는 '3자 지불제' 구조이다."
  }
];

// ========== 상태 변수 ==========
let currentQuestions = [];
let currentIndex = 0;
let currentQuestion = null;
let score = 0;
let answeredCount = 0;
let mode = "normal";
let wrongMap = new Map();
let memorizeQueue = [];
let stepCount = 0;
const REAPPEAR_INTERVAL = 3;
let baseTotalQuestions = 0;

const modeSelect = document.getElementById("modeSelect");
const categorySelect = document.getElementById("categorySelect");
const startBtn = document.getElementById("startBtn");

const quizArea = document.getElementById("quizArea");
const chipArea = document.getElementById("chipArea");
const questionHeader = document.getElementById("questionHeader");
const questionText = document.getElementById("questionText");
const optionsForm = document.getElementById("optionsForm");
const submitBtn = document.getElementById("submitBtn");
const nextBtn = document.getElementById("nextBtn");
const feedback = document.getElementById("feedback");
const explanation = document.getElementById("explanation");
const statusEl = document.getElementById("status");
const typingContainer = document.getElementById("typingContainer");
const typingInput = document.getElementById("typingInput");

const progressBar = document.getElementById("progressBar");
const progressText = document.getElementById("progressText");
const scoreText = document.getElementById("scoreText");

let hasAnsweredCurrent = false;
let requiredTypingAnswer = "";

// ========== 유틸 ==========
function shuffle(array) {
  const arr = array.slice();
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

function normalize(str) {
  return str.replace(/\s+/g, "").toLowerCase();
}

// 카테고리 칩 세팅
function updateChips(category) {
  chipArea.innerHTML = "";
  const base = document.createElement("div");
  base.className = "chip";
  base.textContent = category === "all" ? "전체 모드" : `${category} 모드`;
  chipArea.appendChild(base);

  const lawMap = {
    "의료법": "chip-med",
    "의료기사법": "chip-article",
    "장애인복지법": "chip-disable",
    "노인복지법": "chip-old",
    "건강보험법": "chip-ins"
  };
  if (category !== "all") {
    const lawChip = document.createElement("div");
    lawChip.className = "chip " + (lawMap[category] || "");
    lawChip.textContent = category;
    chipArea.appendChild(lawChip);
  }
}

// 진행바 업데이트
function updateProgress() {
  progressText.textContent = `진행: ${Math.min(answeredCount, baseTotalQuestions)} / ${baseTotalQuestions}`;
  scoreText.textContent = `정답: ${score}문제`;

  let ratio = baseTotalQuestions ? answeredCount / baseTotalQuestions : 0;
  if (ratio > 1) ratio = 1;
  progressBar.style.width = `${ratio * 100}%`;
}

// ========== 퀴즈 시작 ==========
function startQuiz() {
  mode = modeSelect.value;
  const category = categorySelect.value;

  let filtered = questions;
  if (category !== "all") {
    filtered = questions.filter(q => q.category === category);
  }

  if (filtered.length === 0) {
    alert("해당 법에 대한 문제가 아직 없습니다.");
    return;
  }

  baseTotalQuestions = filtered.length;
  currentQuestions = shuffle(filtered);
  currentIndex = 0;
  score = 0;
  answeredCount = 0;
  wrongMap.clear();
  memorizeQueue = [];
  stepCount = 0;

  quizArea.style.display = "block";
  feedback.textContent = "";
  explanation.textContent = "";
  typingContainer.style.display = "none";
  typingInput.value = "";
  nextBtn.disabled = true;
  hasAnsweredCurrent = false;

  updateChips(category);
  updateProgress();
  statusEl.textContent = `선택된 기본 문제 수: ${baseTotalQuestions}문제`;

  loadQuestion();
}

// ========== 다음 문제 선정 ==========
function getNextQuestion() {
  stepCount++;

  if (mode === "memorize") {
    if (stepCount % REAPPEAR_INTERVAL === 0 && memorizeQueue.length > 0) {
      memorizeQueue = memorizeQueue.filter(q => wrongMap.has(q.id));
      if (memorizeQueue.length > 0) {
        const q = memorizeQueue.shift();
        return q;
      }
    }
  }

  if (currentIndex < currentQuestions.length) {
    const q = currentQuestions[currentIndex];
    currentIndex++;
    return q;
  }

  if (mode === "memorize" && wrongMap.size > 0) {
    const remaining = Array.from(wrongMap.values());
    const q = remaining[Math.floor(Math.random() * remaining.length)];
    return q;
  }

  return null;
}

// ========== 문제 로드 ==========
function loadQuestion() {
  const q = getNextQuestion();
  currentQuestion = q;

  typingContainer.style.display = "none";
  typingInput.value = "";
  requiredTypingAnswer = "";
  hasAnsweredCurrent = false;
  nextBtn.disabled = true;
  feedback.textContent = "";
  explanation.textContent = "";

  if (!q) {
    questionHeader.textContent = "퀴즈 종료";
    questionText.textContent = "";
    optionsForm.innerHTML = "";
    feedback.textContent = `총 ${answeredCount}문제 중 ${score}문제 정답 (정답률 ${answeredCount ? Math.round(score / answeredCount * 100) : 0}%)`;
    feedback.style.color = "#e5e7eb";
    explanation.textContent = "";
    statusEl.textContent = "모든 선택된 문제를 풀이했습니다.";
    submitBtn.disabled = true;
    nextBtn.disabled = true;
    updateProgress();
    return;
  }

  submitBtn.disabled = false;

  questionHeader.textContent = `[${q.category}] Q${answeredCount + 1}`;
  questionText.textContent = q.question;

  optionsForm.innerHTML = "";
  q.options.forEach((opt, idx) => {
    const wrapper = document.createElement("label");
    wrapper.className = "option-card";

    const input = document.createElement("input");
    input.type = "radio";
    input.name = "option";
    input.value = idx;

    const span = document.createElement("span");
    span.className = "option-label-text";
    span.textContent = opt;

    wrapper.appendChild(input);
    wrapper.appendChild(span);
    optionsForm.appendChild(wrapper);
  });

  statusEl.textContent = `선택된 기본 문제 수: ${baseTotalQuestions}문제 · 지금까지 푼 문제: ${answeredCount}문제 · 정답: ${score}문제`;
}

// ========== 정답 제출 ==========
function submitAnswer(event) {
  event.preventDefault();
  if (!currentQuestion) return;
  if (hasAnsweredCurrent) {
    alert("이미 이 문제는 채점되었습니다. [다음 문제] 버튼을 눌러주세요.");
    return;
  }

  const selected = optionsForm.querySelector("input[name='option']:checked");
  if (!selected) {
    alert("보기를 하나 선택하세요.");
    return;
  }

  const answerIndex = parseInt(selected.value, 10);
  const isCorrect = answerIndex === currentQuestion.correctIndex;

  hasAnsweredCurrent = true;
  answeredCount++;
  submitBtn.disabled = true;

  if (isCorrect) {
    score++;
    feedback.textContent = "정답! ✅";
    feedback.style.color = "#4ade80";
    wrongMap.delete(currentQuestion.id);
    nextBtn.disabled = false;
  } else {
    feedback.textContent = "오답! ❌";
    feedback.style.color = "#f97373";
    wrongMap.set(currentQuestion.id, currentQuestion);

    if (mode === "memorize") {
      typingContainer.style.display = "block";
      typingInput.value = "";
      requiredTypingAnswer = currentQuestion.options[currentQuestion.correctIndex];
      memorizeQueue.push(currentQuestion);
      typingInput.focus();
      nextBtn.disabled = true;
    } else {
      nextBtn.disabled = false;
    }
  }

  explanation.textContent = "해설: " + currentQuestion.explanation;
  statusEl.textContent = `선택된 기본 문제 수: ${baseTotalQuestions}문제 · 지금까지 푼 문제: ${answeredCount}문제 · 정답: ${score}문제`;
  updateProgress();
}

// ========== 암기모드 타이핑 체크 (핵심 키워드만, 띄어쓰기 무시) ==========
typingInput.addEventListener("input", () => {
  if (!requiredTypingAnswer) return;
  const userText = normalize(typingInput.value);
  const target = normalize(requiredTypingAnswer);

  if (userText.length >= 2 && target.includes(userText)) {
    nextBtn.disabled = false;
  } else {
    nextBtn.disabled = true;
  }
});

// ========== 다음 문제 ==========
function goNextQuestion() {
  if (!currentQuestion) return;
  if (!hasAnsweredCurrent) {
    alert("먼저 정답을 선택하고 [정답 제출]을 눌러주세요.");
    return;
  }
  loadQuestion();
}

// ========== 이벤트 등록 ==========
startBtn.addEventListener("click", startQuiz);
submitBtn.addEventListener("click", submitAnswer);
nextBtn.addEventListener("click", goNextQuestion);
</script>
</body>
</html>
